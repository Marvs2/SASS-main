{% extends "student/layout.html" %}
{% block content %}
             
    <h1>Student Class Subjects</h1>
    <table id="subjectsTable">
        <thead>
            <tr>
                <th>Course Code</th>
                <th>Subject</th>
                <th>Schedule</th>
                <!-- Add other necessary columns -->
            </tr>
        </thead>
        <tbody>
            <!-- Rows will be added here -->
        </tbody>
    </table>

    <script>
        async function loadStudentClassSubjects(studentId) {
            const response = await fetch(`/api/student_class_subjects/${studentId}`);
            if (!response.ok) {
                console.error('Error fetching data');
                return;
            }
            const subjects = await response.json();
            const tableBody = document.getElementById('subjectsTable').getElementsByTagName('tbody')[0];
            subjects.forEach(subject => {
                let row = tableBody.insertRow();
                // Modify these according to your actual data structure
                let cellCourse = row.insertCell(0);
                cellCourse.innerHTML = subject.CourseCode;
                let cellSubject = row.insertCell(1);
                cellSubject.innerHTML = subject.SubjectName;
                let cellSchedule = row.insertCell(2);
                cellSchedule.innerHTML = subject.Schedule;
                // Add other cells as necessary
            });
        }

        // Example student ID, replace with actual data or logic to determine student ID
        loadStudentClassSubjects(12345);
    </script>
 
{% endblock content %}


